(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{123:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(74),i=n.n(s),o=n(14),l=n(15),u=n(19),d=n(18),j=(n(123),n(124),n(11)),b=n(16),p="/",h="/cliente",O="/inspector",m="/dashboard",f="/dashboard/cargas",x="/dashboard/clientes",v="/dashboard/inspectores",g="/dashboard/productos",y="/dashboard/cargas/new",k="/dashboard/cargas/edit",N="/inspector/iniciar",w="/inspector/cargar",C="/inspector/finalizar",_="/add/line",E="/add/temp",S="/add/weight",q="/add/organoleptic",I="/check",R="/inspector/check/rows",P=n(2),T=n(24),F=n(10),D=n(20),A="DASHBOARD_LOGIN",U="DASHBOARD_LOGOUT",M="FETCH_CLIENTS",L="CREATE_CLIENT",V="UPDATE_CLIENT",z="DELETE_CLIENT",H="FETCH_INSPECTORS",W="CREATE_INSPECTOR",B="UPDATE_INSPECTOR",G="DELETE_INSPECTOR",Y="FETCH_ORDERS",J="CREATE_ORDER",Z="UPDATE_ORDER",$="DELETE_ORDER",Q="FETCH_PRODUCTS",K="CREATE_PRODUCT",X="UPDATE_PRODUCT",ee="DELETE_PRODUCT",te={account:{},clients:[],inspectors:[],orders:{},products:[]},ne=function(e){return e.dashboard.account},ae=function(e){return e.dashboard.clients},re=function(e){return e.dashboard.inspectors},ce=function(e){return e.dashboard.products},se=function(e){return e.dashboard.orders.results},ie=function(e){return e.dashboard.orders.total_pages},oe=function(e){return e.dashboard.orders.current},le=function(e){return e.dashboard.orders.next},ue=function(e){return e.dashboard.orders.previous},de=Object(F.b)((function(e){return{account:ne(e)}}))((function(e){var t=e.children,n=e.account,r=e.redirect,c=Object(T.a)(e,["children","account","redirect"]);return Object(a.jsx)(b.b,Object(P.a)(Object(P.a)({},c),{},{render:function(e){var c=e.location;return n.id?t:Object(a.jsx)(b.a,{to:{pathname:r,state:{from:c}}})}}))})),je=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.account;return Object(a.jsxs)("div",{children:["Hello ",e.username,"!"]})}}]),n}(c.a.Component),be=Object(F.b)((function(e){return{account:ne(e)}}))(je),pe=n(53),he=n.n(pe),Oe=n(29),me=n(9),fe=n(8),xe=n(32),ve=n.n(xe),ge=n(111),ye=n.n(ge);function ke(e){return ve()(e).format("DD-MM-YYYY")}function Ne(e,t){if(!t)return ve()().format("HH:MM");var n=ve.a.utc(e).format("YYYY-MM-DD"),a=ve.a.utc("".concat(n," ").concat(null!==t&&void 0!==t?t:"")).format();return ve()(a).format("HH:MM")}function we(e,t){if(!t)return ve.a.utc().format("HH:MM");var n=ve()(e).format("YYYY-MM-DD"),a=ve()("".concat(n," ").concat(null!==t&&void 0!==t?t:"")).format();return ve.a.utc(a).format("HH:MM")}function Ce(e){return ve.a.utc(e).toISOString()}ve.a.extend(ye.a);var _e={pending:"Pendiente",initiating:"Iniciando",loading:"Cargando",closing:"Cerrando",finish:"Terminado",cancel:"Cancelado",ready:"Listo"},Ee=function(e){var t,n,c=e.order,s=Object(r.useState)(!1),i=Object(Oe.a)(s,2),o=i[0],l=i[1],u=Ne(c.date,c.time_start),d=Ne(c.date,c.time_complete);return Object(a.jsxs)("div",{className:"card my-3",children:[Object(a.jsxs)("header",{className:"card-header has-background-grey-light",children:[Object(a.jsxs)("p",{className:"card-header-title",children:["Carga #",c.id]}),Object(a.jsx)("span",{className:"card-header-icon","aria-label":"more options",onClick:function(){return l(!o)},children:Object(a.jsx)("span",{className:"icon",children:o?Object(a.jsx)(me.a,{icon:fe.c}):Object(a.jsx)(me.a,{icon:fe.d})})})]}),Object(a.jsx)("div",{className:"card-content ".concat(o?null:"is-hidden"),children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(a.jsx)("span",{className:"has-text-weight-bold",children:"Cliente:"}),Object(a.jsx)("span",{children:c.client.company})]}),Object(a.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(a.jsx)("span",{className:"has-text-weight-bold",children:"Productos:"}),Object(a.jsx)("ul",{children:c.products.map((function(e){return Object(a.jsx)("li",{className:"tag is-black is-flex my-1",children:e.name},e.id)}))})]}),Object(a.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(a.jsx)("span",{className:"has-text-weight-bold",children:"Booking:"}),Object(a.jsx)("span",{children:null!==(t=c.booking)&&void 0!==t?t:"-"})]}),Object(a.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(a.jsx)("span",{className:"has-text-weight-bold",children:"Peso Bruto (kg):"}),Object(a.jsx)("span",{children:null!==(n=c.gross_weight)&&void 0!==n?n:"-"})]}),Object(a.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(a.jsx)("span",{className:"has-text-weight-bold",children:"Fecha:"}),Object(a.jsx)("span",{children:c.date?ke(c.date):"-"})]}),Object(a.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(a.jsx)("span",{className:"has-text-weight-bold",children:"Hora:"}),Object(a.jsx)("span",{children:"".concat(u," a ").concat(d)})]}),Object(a.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(a.jsx)("span",{className:"has-text-weight-bold",children:"Estado:"}),Object(a.jsx)("span",{children:_e[c.status]})]})]})}),Object(a.jsx)("footer",{className:"card-footer is-flex-direction-column",children:Object(a.jsx)(Se,{order:c})})]})};function Se(e){var t=e.order;return"pending"===t.status?Object(a.jsx)(j.b,{to:"".concat(N,"/").concat(t.id),className:"button is-success is-radiusless \n                    has-text-white has-text-weight-bold",children:Object(a.jsx)("span",{children:"INICIAR CARGA"})}):["initiating","loading"].includes(t.status)?Object(a.jsx)(j.b,{to:"".concat(w,"/").concat(t.id),className:"button is-warning is-radiusless \n                has-text-white has-text-weight-bold",children:Object(a.jsx)("span",{children:"CONTINUAR CARGA"})}):"closing"===t.status?Object(a.jsx)(j.b,{to:"".concat(C,"/").concat(t.id),className:"button is-danger is-radiusless \n                has-text-white has-text-weight-bold",children:"FINALIZAR CARGA"}):"finish"===t.status?Object(a.jsx)(j.b,{to:"".concat(C,"/").concat(t.id).concat(I),className:"button is-info is-radiusless \n                    has-text-white has-text-weight-bold",children:"CHEQUEAR CARGA"}):"ready"===t.status?Object(a.jsxs)("span",{className:"button is-success is-radiusless",children:[Object(a.jsx)(me.a,{icon:fe.e}),Object(a.jsx)("span",{children:"LISTO"})]}):"cancel"===t.status?Object(a.jsxs)("span",{className:"button is-danger is-radiusless",children:[Object(a.jsx)(me.a,{icon:fe.k}),Object(a.jsx)("span",{children:"CANCELADO"})]}):null}var qe,Ie="FETCH_ORDERS_INSPECTOR",Re="FETCH_ROWS_INSPECTOR",Pe="FETCH_TEMPS_INSPECTOR",Te="FETCH_WEIGHTS_INSPECTOR",Fe="FETCH_MEASURES_INSPECTOR",De="INIT_ORDER",Ae="CLOSE_ORDER",Ue="UPDATE_ORDER_INSPECTOR",Me="INSPECTOR_NEW_ROW",Le="UPDATE_ROW",Ve="DELETE_ROW",ze="INSPECTOR_NEW_TEMPERATURE",He="INSPECTOR_NEW_WEIGHT",We="INSPECTOR_NEW_MEASURE",Be="UPDATE_INIT_ORDER_INSPECTOR",Ge="UPDATE_CLOSE_ORDER_INSPECTOR",Ye={orders:[],rows:[],next:1,temps:[],weights:[],measures:[]},Je=function(e){return e.inspector.orders},Ze=function(e){return e.inspector.rows},$e=function(e){return e.inspector.next},Qe=function(){var e=Object(F.d)((function(e){return Je(e)}));return Object(a.jsx)("div",{className:"mt-3",children:he.a.isEmpty(e)?Object(a.jsx)("h1",{className:"title has-text-centered",children:"No tienes Cargas Asignadas"}):e.map((function(e,t){return Object(a.jsx)(Ee,{order:e},t)}))})},Ke=n(3),Xe=n.n(Ke),et=n(5),tt=n(4),nt=n(6),at=function(e){var t=e.path,n=e.className,r=e.children;return Object(a.jsx)(j.b,{to:t,className:n,children:r})},rt=function(e){var t=e.className,n=e.imgClass,r=e.src,c=e.alt;return r?Object(a.jsx)("figure",{className:t,children:Object(a.jsx)("img",{className:n,src:r,alt:c})}):null},ct=function(e){var t=e.field,n=e.form,r=n.touched,c=n.errors,s=Object(T.a)(e,["field","form"]);return Object(a.jsxs)("div",{className:"field",children:[s.label?Object(a.jsx)("label",{className:"label is-large",children:s.label}):null,Object(a.jsx)("div",{className:"control",children:"textarea"===s.type?Object(a.jsx)("textarea",Object(P.a)(Object(P.a)({type:"text",className:"input is-medium form-comment"},t),s)):Object(a.jsx)("input",Object(P.a)(Object(P.a)({type:"text",className:"input is-medium"},t),s))}),r[t.name]&&c[t.name]?Object(a.jsx)("p",{className:"help is-danger",children:c[t.name]}):null]})},st=function(e){var t=e.field,n=e.form,r=n.touched,c=n.errors,s=Object(T.a)(e,["field","form"]);return Object(a.jsxs)("div",{className:"field is-horizontal",children:[s.label?Object(a.jsx)("label",{className:"label is-large",children:s.label}):null,Object(a.jsx)("div",{className:"field-body",children:Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("div",{className:"control",children:"textarea"===s.type?Object(a.jsx)("textarea",Object(P.a)(Object(P.a)({type:"text",className:"input is-medium form-comment"},t),s)):Object(a.jsx)("input",Object(P.a)(Object(P.a)({type:"text",className:"input is-medium"},t),s))}),r[t.name]&&c[t.name]?Object(a.jsx)("p",{className:"help is-danger",children:c[t.name]}):null]})})]})},it=function(e){var t=e.field,n=e.form,r=n.touched,c=n.errors,s=Object(T.a)(e,["field","form"]);return Object(a.jsxs)("div",{className:"field",children:[s.label?Object(a.jsx)("label",{className:"label is-large",children:s.label}):null,Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("div",{className:"select is-medium fullwidth",children:Object(a.jsx)("select",Object(P.a)(Object(P.a)(Object(P.a)({className:"fullwidth"},t),s),{},{children:s.children}))})}),r[t.name]&&c[t.name]?Object(a.jsx)("p",{className:"help is-danger",children:c[t.name]}):null]})},ot=function(e){var t=e.field,n=e.form,r=n.touched,c=n.errors,s=Object(T.a)(e,["field","form"]);return Object(a.jsxs)("div",{className:"field",children:[s.label?Object(a.jsx)("label",{className:"label is-large",children:s.label}):null,Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("div",{className:"select is-multiple is-medium fullwidth",children:Object(a.jsx)("select",Object(P.a)(Object(P.a)(Object(P.a)({multiple:!0,className:"fullwidth"},t),s),{},{children:s.children}))})}),r[t.name]&&c[t.name]?Object(a.jsx)("p",{className:"help is-danger",children:c[t.name]}):null]})},lt=function(e){var t=e.className,n=void 0===t?"image is-128x128":t,r=e.src,c=void 0===r?"/static/images/loader.gif":r,s=e.alt,i=void 0===s?"Loading ...":s;return Object(a.jsx)("figure",{className:n,children:Object(a.jsx)("img",{src:c,alt:i})})},ut=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,thumb:void 0,error:""},e.readFile=function(){var t=new FileReader;t.onload=function(){return e.setState({loading:!1,thumb:t.result,error:""})},t.onerror=function(){return e.setState({loading:!1,thumb:void 0,error:String(t.error)})},t.readAsDataURL(e.props.file)},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.file&&(e.file&&e.file.name===this.props.file.name||this.state.loading||(this.setState({loading:!0}),this.readFile()))}},{key:"componentDidMount",value:function(){!this.state.loading&&this.props.file&&(this.setState({loading:!0}),this.readFile())}},{key:"render",value:function(){var e=this.props.file,t=this.state,n=t.loading,r=t.thumb,c=t.error;return e?n?Object(a.jsx)("p",{children:"loading..."}):c?Object(a.jsx)("p",{children:c}):Object(a.jsx)("img",{src:r,alt:e.name,className:"image mt-2",height:200,width:200}):null}}]),n}(c.a.Component),dt=function(e){var t=e.onChange,n=e.children,c=e.label,s=Object(T.a)(e,["onChange","children","label"]),i=Object(r.useState)(),o=Object(Oe.a)(i,2),l=o[0],u=o[1];return Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("div",{className:"file is-warning is-boxed is-fullwidth has-text-centered",children:Object(a.jsxs)("label",{className:"file-label",children:[Object(a.jsx)("input",Object(P.a)({type:"file",className:"file-input",onChange:function(e){u(e.target.files[0]),t(e.target.files[0])}},s)),l&&n?Object(a.jsx)(n.type,Object(P.a)(Object(P.a)({},n.props),{},{file:l})):Object(a.jsxs)("span",{className:"file-cta",children:[Object(a.jsx)("span",{className:"file-icon",children:Object(a.jsx)(me.a,{icon:fe.g})}),c?Object(a.jsx)("span",{className:"file-label",children:c}):null]})]})})})},jt=function(e){var t,n=e.order,r=e.onOk;if("pending"!==n.status)return Object(a.jsx)(b.a,{to:"".concat(w,"/").concat(n.id)});var c=nt.e().shape({container:nt.f().required("La Matricula del Contenedor es requerida"),empty:nt.c().required("Imagen Requerida"),matricula:nt.c().required("Imagen requerido"),ventilation:nt.c()});return Object(a.jsx)(tt.c,{initialValues:{container:null!==(t=n.container)&&void 0!==t?t:"",empty:void 0,matricula:void 0,ventilation:void 0},validationSchema:c,onSubmit:function(){var e=Object(et.a)(Xe.a.mark((function e(t,n){var a,c;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setSubmitting,c=new FormData,Object.entries(t).forEach((function(e){e[1]&&c.append.apply(c,Object(D.a)(e))})),e.next=5,r(c);case 5:a(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.isValid,r=e.setFieldValue;return Object(a.jsxs)(tt.b,{className:"px-2",children:[Object(a.jsx)(tt.a,{type:"text",name:"container",label:"Contenedor",component:st}),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)(Object(P.a)({label:"Contenedor Vac\xedo",onChange:function(e){return r("empty",e)},accept:"image/*"},e),{},{children:Object(a.jsx)(ut,{})}))}}),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)(Object(P.a)({label:"Matricula",onChange:function(e){return r("matricula",e)},accept:"image/*"},e),{},{children:Object(a.jsx)(ut,{})}))}}),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)(Object(P.a)({label:"Ventilaci\xf3n (optional)",onChange:function(e){return r("ventilation",e)},accept:"image/*"},e),{},{children:Object(a.jsx)(ut,{})}))}}),Object(a.jsxs)("div",{className:"buttons is-justify-content-space-evenly",children:[Object(a.jsx)("button",{type:"submit",disabled:t||!n,className:"button is-success is-large ".concat(t?"is-loading":""),children:Object(a.jsx)("span",{children:"Guardar"})}),Object(a.jsx)(j.b,{to:O,className:"button is-danger is-large","aria-disabled":t,children:Object(a.jsx)("span",{children:"Cancelar"})})]})]})}})},bt=nt.e().shape({number:nt.d().required("Campo Requerido"),product:nt.f().required("Campo Requerido"),size:nt.f(),image:nt.c().required("Imagen Requerida"),quantity:nt.d().required("Campo requerido")}),pt=function(e){var t=e.order,n=e.backUrl,r=e.okUrl,c=e.onOk,s=Object(F.d)((function(e){return $e(e)})),i=Object(b.g)();return Object(a.jsx)(tt.c,{initialValues:{number:s,product:"",size:"",image:void 0,quantity:0},validationSchema:bt,onSubmit:function(){var e=Object(et.a)(Xe.a.mark((function e(n,a){var s,o,l;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.setSubmitting,(o=new FormData).append("order",String(t.id)),Object.entries(n).forEach((function(e){e[1]&&o.append.apply(o,Object(D.a)(e))})),e.t0=c,!e.t0){e.next=9;break}return e.next=8,c(o);case 8:e.t0=e.sent;case 9:l=e.t0,s(!1),l&&r&&i.push(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var r=e.isSubmitting,c=e.isValid,s=e.setFieldValue;return Object(a.jsxs)(tt.b,{children:[Object(a.jsx)(tt.a,{type:"number",name:"number",label:"Fila",component:ct}),Object(a.jsxs)(tt.a,{name:"product",label:"Producto",component:it,children:[Object(a.jsx)("option",{value:"",children:"-----"}),t.products.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(a.jsx)(tt.a,{type:"number",name:"quantity",label:"Cantidad",component:ct}),Object(a.jsx)(tt.a,{type:"text",name:"size",label:"Tama\xf1o",component:ct}),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)(Object(P.a)({label:"Foto",onChange:function(e){return s("image",e)},accept:"image/*"},e),{},{children:Object(a.jsx)(ut,{})}))}}),Object(a.jsxs)("div",{className:"buttons is-justify-content-space-evenly",children:[Object(a.jsx)("button",{type:"submit",disabled:r||!c,className:"button is-success is-large ".concat(r?"is-loading":""),children:Object(a.jsx)("span",{children:"Guardar"})}),Object(a.jsx)(j.b,{to:null!==n&&void 0!==n?n:O,className:"button is-danger is-large","aria-disabled":r,children:Object(a.jsx)("span",{children:"Cancelar"})})]})]})}})},ht=nt.e().shape({row:nt.d().required("Campo Requerido"),temp:nt.d().required("Campo requerido")}),Ot=function(e){var t=e.order,n=e.backUrl,r=e.okUrl,c=e.onOk,s=Object(b.g)();return Object(a.jsx)(tt.c,{initialValues:{row:1,temp:0,images:[]},validationSchema:ht,onSubmit:function(){var e=Object(et.a)(Xe.a.mark((function e(n,a){var i,o,l;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.setSubmitting,(o=new FormData).append("order",String(t.id)),Object.entries(n).forEach((function(e){e[1]&&"images"!==e[0]&&o.append.apply(o,Object(D.a)(e))})),n.images.forEach((function(e){return o.append("images",e)})),e.t0=c,!e.t0){e.next=10;break}return e.next=9,c(o);case 9:e.t0=e.sent;case 10:l=e.t0,i(!1),l&&r&&s.push(r);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,r=e.isValid,c=e.setFieldValue,s=e.values;return Object(a.jsxs)(tt.b,{children:[Object(a.jsx)(tt.a,{type:"number",name:"row",label:"Fila",component:ct}),Object(a.jsx)(tt.a,{type:"number",name:"temp",label:"Temperatura",component:ct}),s.images.map((function(e,t,n){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ut,{file:e}),Object(a.jsx)("span",{onClick:function(){return c("images",n.filter((function(e,n){return n!==t})))},className:"button is-danger is-small",children:Object(a.jsx)(me.a,{icon:fe.m})})]},t)})),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)({label:"Fotos",onChange:function(e){return c("images",s.images.concat(e))},accept:"image/*"},e))}}),Object(a.jsxs)("div",{className:"buttons is-justify-content-space-evenly",children:[Object(a.jsx)("button",{type:"submit",disabled:t||!r,className:"button is-success is-large ".concat(t?"is-loading":""),children:Object(a.jsx)("span",{children:"Guardar"})}),Object(a.jsx)(j.b,{to:null!==n&&void 0!==n?n:O,className:"button is-danger is-large","aria-disabled":t,children:Object(a.jsx)("span",{children:"Cancelar"})})]})]})}})},mt=nt.e().shape({package:nt.d().required("Campo Requerido"),carton:nt.d().required("Campo Requerido"),primary_package:nt.d().required("Campo Requerido"),product:nt.f().required("Campo Requerido")}),ft=function(e){var t=e.order,n=e.backUrl,r=e.okUrl,c=e.onOk,s=Object(b.g)();return Object(a.jsx)(tt.c,{initialValues:{package:0,carton:0,primary_package:0,product:0,images:[]},validationSchema:mt,onSubmit:function(){var e=Object(et.a)(Xe.a.mark((function e(n,a){var i,o,l;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.setSubmitting,(o=new FormData).append("order",String(t.id)),Object.entries(n).forEach((function(e){e[1]&&"images"!==e[0]&&o.append.apply(o,Object(D.a)(e))})),n.images.forEach((function(e){return o.append("images",e)})),e.t0=c,!e.t0){e.next=10;break}return e.next=9,c(o);case 9:e.t0=e.sent;case 10:l=e.t0,i(!1),l&&r&&s.push(r);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,r=e.isValid,c=e.setFieldValue,s=e.values;return Object(a.jsxs)(tt.b,{children:[Object(a.jsx)(tt.a,{type:"number",name:"package",label:"Peso Package",component:ct}),Object(a.jsx)(tt.a,{type:"number",name:"carton",label:"Peso Carton",component:ct}),Object(a.jsx)(tt.a,{type:"text",name:"product",label:"Peso Producto",component:ct}),Object(a.jsx)(tt.a,{type:"text",name:"primary_package",label:"Peso Primary Package",component:ct}),s.images.map((function(e,t,n){return Object(a.jsxs)("div",{className:"is-flex",children:[Object(a.jsx)(ut,{file:e}),Object(a.jsx)("span",{onClick:function(){return c("images",n.filter((function(e,n){return n!==t})))},className:"button is-danger is-small",children:Object(a.jsx)(me.a,{icon:fe.m})})]},t)})),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)({label:"Fotos",onChange:function(e){return c("images",s.images.concat(e))},accept:"image/*"},e))}}),Object(a.jsxs)("div",{className:"buttons is-justify-content-space-evenly",children:[Object(a.jsx)("button",{type:"submit",disabled:t||!r,className:"button is-success is-large ".concat(t?"is-loading":""),children:Object(a.jsx)("span",{children:"Guardar"})}),Object(a.jsx)(j.b,{to:null!==n&&void 0!==n?n:O,className:"button is-danger is-large","aria-disabled":t,children:Object(a.jsx)("span",{children:"Cancelar"})})]})]})}})},xt=function(e){var t=e.order,n=e.backUrl,r=e.okUrl,c=e.onOk,s=Object(b.g)();return Object(a.jsx)(tt.c,{initialValues:{images:[]},onSubmit:function(){var e=Object(et.a)(Xe.a.mark((function e(n,a){var i,o,l;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.setSubmitting,!he.a.isEmpty(n.images)){e.next=5;break}i(!1),e.next=16;break;case 5:if((o=new FormData).append("order",String(t.id)),n.images.forEach((function(e){return o.append("images",e)})),e.t0=c,!e.t0){e.next=13;break}return e.next=12,c(o);case 12:e.t0=e.sent;case 13:l=e.t0,i(!1),l&&r&&s.push(r);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,r=e.setFieldValue,c=e.values;return Object(a.jsxs)(tt.b,{children:[c.images.map((function(e,t,n){return Object(a.jsxs)("div",{className:"is-flex is-justify-content-center is-align-items-center my-2",children:[Object(a.jsx)(ut,{file:e}),Object(a.jsx)("span",{onClick:function(){return r("images",n.filter((function(e,n){return n!==t})))},className:"button is-danger is-small",children:Object(a.jsx)(me.a,{icon:fe.m})})]},t)})),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)({label:"Fotos",onChange:function(e){return r("images",c.images.concat(e))},accept:"image/*"},e))}}),Object(a.jsxs)("div",{className:"buttons is-justify-content-space-evenly",children:[Object(a.jsx)("button",{type:"submit",disabled:t||he.a.isEmpty(c.images),className:"button is-success is-large ".concat(t?"is-loading":""),children:Object(a.jsx)("span",{children:"Guardar"})}),Object(a.jsx)(j.b,{to:null!==n&&void 0!==n?n:O,className:"button is-danger is-large","aria-disabled":t,children:Object(a.jsx)("span",{children:"Cancelar"})})]})]})}})},vt=n(115),gt=n.n(vt);!function(e){e.center="center",e.right="right",e.left="left"}(qe||(qe={}));var yt=function(e){var t=e.columns,n=void 0===t?[]:t,r=e.data,c=void 0===r?[]:r;return Object(a.jsx)("div",{className:"table-container",children:Object(a.jsxs)("table",{className:"table is-fullwidth is-striped is-hoverable",children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:n.map((function(e){return Object(a.jsx)("th",{align:e.align,style:{width:e.width},children:e.title},e.key)}))})}),Object(a.jsx)("tbody",{children:c.map((function(e,t){return Object(a.jsx)("tr",{children:n.map((function(n,r){var c,s=null!==(c=n.render&&n.render(e,n,t))&&void 0!==c?c:gt()(e,n.key);return Object(a.jsx)("td",{align:n.align,style:{width:n.width,textAlign:n.align},children:s},"".concat(n.key,"-").concat(r))}))},t)}))})]})})},kt=function(e){var t=e.open,n=e.onOpenChange,c=e.title,s=e.children,i=e.okLabel,o=void 0===i?"Ok":i,l=e.cancelLabel,u=void 0===l?"Cancelar":l,d=e.onOk,j=Object(r.useCallback)((function(){return n&&n(!1)}),[n]);return t?Object(a.jsxs)("div",{className:"modal is-active has-text-left",children:[Object(a.jsx)("div",{className:"modal-background",onClick:j}),Object(a.jsxs)("div",{className:"modal-card",children:[Object(a.jsxs)("header",{className:"modal-card-head",children:[Object(a.jsx)("p",{className:"modal-card-title is-flex-shrink-1",children:c}),Object(a.jsx)("button",{className:"delete","aria-label":"close",onClick:j})]}),!!s&&Object(a.jsx)("section",{className:"modal-card-body text-left",children:s}),Object(a.jsxs)("footer",{className:"modal-card-foot justify-end",children:[!!u&&Object(a.jsx)("button",{className:"button is-danger",onClick:j,children:u}),!!o&&Object(a.jsx)("button",{className:"button is-success",onClick:d,children:o})]})]})]}):null},Nt=function(e){var t=e.button,n=e.modal,c=Object(r.useState)(!1),s=Object(Oe.a)(c,2),i=s[0],o=s[1],l=Object(r.useCallback)((function(){return o(!0)}),[o]),u=Object(r.useCallback)(Object(et.a)(Xe.a.mark((function e(){var t,a=arguments;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof n.props.onOk){e.next=4;break}return e.next=3,(t=n.props).onOk.apply(t,a);case 3:o(!1);case 4:case"end":return e.stop()}}),e)}))),[n.props]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(t.type,Object(P.a)(Object(P.a)({},t.props),{},{onClick:l})),Object(a.jsx)(n.type,Object(P.a)(Object(P.a)({},n.props),{},{open:i,onOpenChange:o,onOk:u}))]})},wt=function(e){var t=e.onClick,n=e.children,r=Object(T.a)(e,["onClick","children"]);return Object(a.jsx)(Nt,{button:Object(a.jsx)("span",{children:n}),modal:Object(a.jsx)(kt,Object(P.a)(Object(P.a)({},r),{},{onOk:t}))})},Ct=n(44),_t=n.n(Ct),Et=function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a,r,c;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.login,e);case 3:return a=t.sent,r=a.token,Kt.setAuth(r),localStorage.setItem("token",r),t.next=9,Kt.get(Xt.me);case 9:return c=t.sent,t.abrupt("return",n({type:A,payload:c}));case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},St=function(){return function(e){try{Kt.setAuth(""),localStorage.removeItem("token")}catch(t){}return e({type:U})}},qt=function(e){return Object(et.a)(Xe.a.mark((function t(){var n,a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.credentials,{id:e});case 3:return n=t.sent,a=n.ok,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))},It=function(){return function(){var e=Object(et.a)(Xe.a.mark((function e(t){var n;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.get(Xt.clients_data);case 3:return n=e.sent,e.abrupt("return",t({type:M,payload:n}));case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Rt=function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.clients_data,e);case 3:return a=t.sent,t.abrupt("return",n({type:L,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Pt=function(e,t){return function(){var n=Object(et.a)(Xe.a.mark((function n(a){var r;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Kt.patch("".concat(Xt.clients_data).concat(e,"/"),t);case 3:return r=n.sent,n.abrupt("return",a({type:V,payload:r}));case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},Tt=function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.delete("".concat(Xt.clients_data).concat(e,"/"));case 3:return t.abrupt("return",n({type:z,payload:e}));case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},Ft=function(){return function(){var e=Object(et.a)(Xe.a.mark((function e(t){var n;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.get(Xt.inspectors_data);case 3:return n=e.sent,e.abrupt("return",t({type:H,payload:n}));case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Dt=function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.inspectors_data,e);case 3:return a=t.sent,t.abrupt("return",n({type:W,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},At=function(e,t){return function(){var n=Object(et.a)(Xe.a.mark((function n(a){var r;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Kt.patch("".concat(Xt.inspectors_data).concat(e,"/"),t);case 3:return r=n.sent,n.abrupt("return",a({type:B,payload:r}));case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},Ut=function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.delete("".concat(Xt.inspectors_data).concat(e,"/"));case 3:return t.abrupt("return",n({type:G,payload:e}));case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},Mt=function(){return function(){var e=Object(et.a)(Xe.a.mark((function e(t){var n;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.get(Xt.products_data);case 3:return n=e.sent,e.abrupt("return",t({type:Q,payload:n}));case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Lt=function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.products_data,e);case 3:return a=t.sent,t.abrupt("return",n({type:K,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Vt=function(e,t){return function(){var n=Object(et.a)(Xe.a.mark((function n(a){var r;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Kt.patch("".concat(Xt.products_data).concat(e,"/"),t);case 3:return r=n.sent,n.abrupt("return",a({type:X,payload:r}));case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},zt=function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.delete("".concat(Xt.products_data).concat(e,"/"));case 3:return t.abrupt("return",n({type:ee,payload:e}));case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},Ht=function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.get("".concat(Xt.orders_data,"?page=").concat(null!==e&&void 0!==e?e:1));case 3:return a=t.sent,t.abrupt("return",n({type:Y,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Wt=n(38),Bt=n(116),Gt=n(117),Yt=Object(Wt.combineReducers)({dashboard:function(){var e,t,n,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,c=arguments.length>1?arguments[1]:void 0,s=c.type,i=c.payload;switch(s){case A:return Object(P.a)(Object(P.a)({},r),{},{account:i});case U:return Object(P.a)(Object(P.a)({},r),{},{account:{}});case M:return Object(P.a)(Object(P.a)({},r),{},{clients:null!==i&&void 0!==i?i:[]});case L:return Object(P.a)(Object(P.a)({},r),{},{clients:[].concat(Object(D.a)(r.clients),[i])});case V:var o=r.clients.findIndex((function(e){return e.user.id===i.user.id})),l=Object(D.a)(r.clients);return l[o]=i,Object(P.a)(Object(P.a)({},r),{},{clients:l});case z:return Object(P.a)(Object(P.a)({},r),{},{clients:null!==(e=r.clients.filter((function(e){return e.user.id!==i})))&&void 0!==e?e:[]});case H:return Object(P.a)(Object(P.a)({},r),{},{inspectors:null!==i&&void 0!==i?i:[]});case W:return Object(P.a)(Object(P.a)({},r),{},{inspectors:[].concat(Object(D.a)(r.inspectors),[i])});case B:var u=r.inspectors.findIndex((function(e){return e.user.id===i.user.id})),d=Object(D.a)(r.inspectors);return d[u]=i,Object(P.a)(Object(P.a)({},r),{},{inspectors:d});case G:return Object(P.a)(Object(P.a)({},r),{},{inspectors:null!==(t=r.inspectors.filter((function(e){return e.user.id!==i})))&&void 0!==t?t:[]});case Q:return Object(P.a)(Object(P.a)({},r),{},{products:null!==i&&void 0!==i?i:[]});case K:return Object(P.a)(Object(P.a)({},r),{},{products:[].concat(Object(D.a)(r.products),[i])});case X:var j=r.products.findIndex((function(e){return e.id===i.id})),b=Object(D.a)(r.products);return b[j]=i,Object(P.a)(Object(P.a)({},r),{},{products:b});case ee:return Object(P.a)(Object(P.a)({},r),{},{products:null!==(n=r.products.filter((function(e){return e.id!==i})))&&void 0!==n?n:[]});case Y:return Object(P.a)(Object(P.a)({},r),{},{orders:null!==i&&void 0!==i?i:{}});case J:return Object(P.a)(Object(P.a)({},r),{},{orders:Object(P.a)(Object(P.a)({},r.orders),{},{results:[i].concat(Object(D.a)(r.orders.results))})});case Z:var p=r.orders.results.findIndex((function(e){return e.id===i.id})),h=Object(P.a)({},r.orders);return h.results[p]=i,Object(P.a)(Object(P.a)({},r),{},{orders:h});case $:return Object(P.a)(Object(P.a)({},r),{},{orders:Object(P.a)(Object(P.a)({},r.orders),{},{results:null!==(a=r.orders.results.filter((function(e){return e.id!==i})))&&void 0!==a?a:[]})});default:return r}},inspector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Ie:return Object(P.a)(Object(P.a)({},e),{},{orders:null!==a&&void 0!==a?a:[]});case Re:return Object(P.a)(Object(P.a)({},e),{},{rows:null!==a&&void 0!==a?a:[],next:a.reduce((function(e,t){return e>t.number?e:t.number}),0)+1});case Pe:return Object(P.a)(Object(P.a)({},e),{},{temps:null!==a&&void 0!==a?a:[]});case Te:return Object(P.a)(Object(P.a)({},e),{},{weights:null!==a&&void 0!==a?a:[]});case Fe:return Object(P.a)(Object(P.a)({},e),{},{measures:null!==a&&void 0!==a?a:[]});case De:case Ae:case Ue:case Be:case Ge:return Object(P.a)(Object(P.a)({},e),{},{orders:e.orders.map((function(e){return e.id===a.id?a:e}))});case Me:var r=[].concat(Object(D.a)(e.rows),[a]);return Object(P.a)(Object(P.a)({},e),{},{rows:r,next:a.number+1});case Le:return Object(P.a)(Object(P.a)({},e),{},{rows:e.rows.map((function(e){return e.id===a.id?a:e}))});case Ve:return Object(P.a)(Object(P.a)({},e),{},{rows:e.rows.filter((function(e){return e.id!==a.id}))});case ze:var c=e.temps.concat(a);return Object(P.a)(Object(P.a)({},e),{},{temps:c});case He:var s=e.weights.concat(a);return Object(P.a)(Object(P.a)({},e),{},{weights:s});case We:var i=e.measures.concat(a);return Object(P.a)(Object(P.a)({},e),{},{measures:i});default:return e}}});var Jt=Object(Wt.createStore)(Yt,function(){try{var e=localStorage.getItem("storeCache");if(null==e)return;return JSON.parse(e)}catch(t){return void console.warn(t)}}(),Object(Bt.composeWithDevTools)(Object(Wt.applyMiddleware)(Gt.a)));Jt.subscribe((function(){return function(e){try{localStorage.setItem("storeCache",JSON.stringify(e))}catch(t){console.warn(t)}}(Jt.getState())}));var Zt=Jt,$t=function(e){return e.data},Qt=function(e){throw 401===e.response.status&&Zt.dispatch(St()),e},Kt=new(function(){function e(){var t;Object(o.a)(this,e),_t.a.defaults.baseURL="/";var n=null!==(t=localStorage.getItem("token"))&&void 0!==t?t:"";this.setAuth(n)}return Object(l.a)(e,[{key:"setAuth",value:function(e){e?_t.a.defaults.headers.common.authorization="JWT ".concat(e):delete _t.a.defaults.headers.common.authorization}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _t.a.get(e,t).then($t).catch(Qt)}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _t.a.post(e,t,n).then($t).catch(Qt)}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _t.a.put(e,t,n).then($t).catch(Qt)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _t.a.patch(e,t,n).then($t).catch(Qt)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _t.a.delete(e,t).then($t).catch(Qt)}}]),e}()),Xt={login:"/api-token-auth/",me:"/accounts/me",clients_data:"/accounts/clients/",inspectors_data:"accounts/inspectors/",validate_username:"/accounts/validate_username/",credentials:"accounts/send_credentials/",orders_data:"/orders/admin/",products_data:"/orders/products/",client_orders:"/orders/client/",inspector_orders:"/orders/inspector/",inspector_rows:"/orders/inspector/rows/",inspector_temps:"/orders/inspector/temps/",inspector_weights:"/orders/inspector/weights/",inspector_add_measure:"/orders/inspector/measure/",inspector_list_measure:"/orders/inspector/measures/",inspector_close:"/orders/inspector/close/",inspector_container:"/orders/inspector/container/"},en=function(e,t){return function(){var n=Object(et.a)(Xe.a.mark((function n(a){var r;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Kt.patch("".concat(Xt.inspector_orders).concat(e,"/"),t);case 3:return r=n.sent,n.abrupt("return",a({type:Ue,payload:r}));case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},tn=function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.get("".concat(Xt.inspector_rows,"?order=").concat(e));case 3:return a=t.sent,t.abrupt("return",n({type:Re,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},nn=function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.inspector_rows,e);case 3:return a=t.sent,t.abrupt("return",n({type:Me,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},an=Object(b.h)((function(e){var t=e.order,n=e.match,c=e.history,s=Object(F.c)(),i=Object(F.d)((function(e){return Ze(e)})),o=n.url,l=[{key:"number",title:"#",align:qe.right,width:50},{key:"product.name",title:"Producto",align:qe.center,width:300},{key:"size",title:"Tama\xf1o",align:qe.center,width:100},{key:"quantity",title:"Cantidad",align:qe.center,width:150}];Object(r.useEffect)((function(){var e;s(tn(t.id)),s((e=t.id,function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.get("".concat(Xt.inspector_temps,"?order=").concat(e));case 3:return a=t.sent,t.abrupt("return",n({type:Pe,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),s(function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.get("".concat(Xt.inspector_weights,"?order=").concat(e));case 3:return a=t.sent,t.abrupt("return",n({type:Te,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t.id)),s(function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.get("".concat(Xt.inspector_list_measure,"?order=").concat(e));case 3:return a=t.sent,t.abrupt("return",n({type:Fe,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t.id))}),[t,s]);var u=function(){var e=Object(et.a)(Xe.a.mark((function e(n){return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(en(t.id,{status:n}));case 2:c.push("".concat(C,"/").concat(t.id));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return["initiating","loading"].includes(t.status)?Object(a.jsx)("div",{className:"m-2 is-flex is-flex-direction-column",children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:o+_,children:Object(a.jsx)(pt,{order:t,okUrl:o,backUrl:o,onOk:function(e){return i.length<1&&s(en(t.id,{status:"loading"})),nn(e)(s)}})}),Object(a.jsx)(b.b,{path:o+E,children:Object(a.jsx)(Ot,{order:t,okUrl:o,backUrl:o,onOk:function(e){return function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.inspector_temps,e);case 3:return a=t.sent,t.abrupt("return",n({type:ze,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e)(s)}})}),Object(a.jsx)(b.b,{path:o+S,children:Object(a.jsx)(ft,{order:t,okUrl:o,backUrl:o,onOk:function(e){return function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.inspector_weights,e);case 3:return a=t.sent,t.abrupt("return",n({type:He,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e)(s)}})}),Object(a.jsx)(b.b,{path:o+q,children:Object(a.jsx)(xt,{order:t,okUrl:o,backUrl:o,onOk:function(e){return function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.inspector_add_measure,e);case 3:return a=t.sent,t.abrupt("return",n({type:We,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e)(s)}})}),Object(a.jsxs)(b.b,{path:o,children:[Object(a.jsxs)(at,{path:o+_,className:"button is-success is-fullwidth my-2",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.j})}),Object(a.jsx)("span",{className:"is-uppercase",children:"Fila"})]}),Object(a.jsxs)(at,{path:o+E,className:"button is-success is-fullwidth my-2",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.j})}),Object(a.jsx)("span",{className:"is-uppercase",children:"Temperatura"})]}),Object(a.jsxs)(at,{path:o+S,className:"button is-success is-fullwidth my-2",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.j})}),Object(a.jsx)("span",{className:"is-uppercase",children:"Pesos"})]}),Object(a.jsxs)(at,{path:o+q,className:"button is-success is-fullwidth my-2",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.j})}),Object(a.jsx)("span",{className:"is-uppercase",children:"Organol\xe9ptica"})]}),Object(a.jsxs)(at,{path:O,className:"button is-warning is-fullwidth my-2",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.n})}),Object(a.jsx)("span",{className:"is-uppercase",children:"Volver"})]}),Object(a.jsx)(wt,{title:"Est\xe1 seguro que quiere finalizar la carga?",okLabel:"S\xed",onClick:function(){return u("closing")},children:Object(a.jsx)("span",{className:"button is-danger is-fullwidth is-uppercase mb-4",children:"Finalizar Carga"})}),Object(a.jsx)(yt,{columns:l,data:i})]})]})}):Object(a.jsx)(b.a,{to:O})})),rn=nt.e().shape({boxes:nt.d().required("Campo Requerido"),full:nt.c().required("Imagen Requerida"),semi_close:nt.c(),close:nt.c(),precinto:nt.c()}),cn=function(e){var t,n,r=e.order,c=e.backUrl,s=e.okUrl,i=e.onOk,o=Object(b.g)(),l=Object(F.d)((function(e){return Ze(e)})).reduce((function(e,t){var n="box_".concat(t.product.id);return e.hasOwnProperty(n)?Object(P.a)(Object(P.a)({},e),{},{name:e.name+t.quantity}):Object(P.a)(Object(P.a)({},e),{},{name:t.quantity})}),{});return Object(a.jsx)(tt.c,{initialValues:Object(P.a)(Object(P.a)({},l),{},{net_weight:null!==(t=r.net_weight)&&void 0!==t?t:0,gross_weight:null!==(n=r.gross_weight)&&void 0!==n?n:0,full:void 0,semi_close:void 0,close:void 0,precinto:void 0}),validationSchema:rn,onSubmit:function(){var e=Object(et.a)(Xe.a.mark((function e(t,n){var a,c,l,u;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.setSubmitting,console.log(t),(c=new FormData).append("order",String(r.id)),l=0,Object.entries(t).forEach((function(e){e[1]&&!e[0].startsWith("box")?c.append.apply(c,Object(D.a)(e)):l+=e[1]})),c.append("boxes",String(l)),e.t0=i,!e.t0){e.next=12;break}return e.next=11,i(c);case 11:e.t0=e.sent;case 12:u=e.t0,a(!1),u&&s&&o.push(s);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.isValid,s=e.setFieldValue;return Object(a.jsxs)(tt.b,{children:[r.products.map((function(e){return Object(a.jsx)(tt.a,{type:"number",name:"box_".concat(e.id),label:"N\xb0 Cajas de ".concat(e.name),component:st},e.id)})),Object(a.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(a.jsx)("p",{children:"Total Cajas:"}),Object(a.jsx)("p",{children:Object.entries(pe.values).reduce((function(e,t){return t[0].startsWith("box")?e+Number(t[1]):e}),0)})]}),Object(a.jsx)(tt.a,{type:"number",name:"gross_weight",label:"Peso Bruto (kg)",component:st}),Object(a.jsx)(tt.a,{type:"number",name:"net_weight",label:"Peso Neto (kg)",component:st}),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)(Object(P.a)({label:"Contenedor Lleno",onChange:function(e){return s("full",e)},accept:"image/*"},e),{},{children:Object(a.jsx)(ut,{})}))}}),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)(Object(P.a)({label:"Contenedor Semi-Cerrado",onChange:function(e){return s("semi_close",e)},accept:"image/*"},e),{},{children:Object(a.jsx)(ut,{})}))}}),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)(Object(P.a)({label:"Contenedor Cerrado",onChange:function(e){return s("close",e)},accept:"image/*"},e),{},{children:Object(a.jsx)(ut,{})}))}}),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)(Object(P.a)({label:"Precinto AFIP",onChange:function(e){return s("precinto",e)},accept:"image/*"},e),{},{children:Object(a.jsx)(ut,{})}))}}),Object(a.jsxs)("div",{className:"buttons is-justify-content-space-evenly",children:[Object(a.jsx)("button",{type:"submit",disabled:t||!n,className:"button is-success is-large ".concat(t?"is-loading":""),children:Object(a.jsx)("span",{children:"Finalizar"})}),Object(a.jsx)(j.b,{to:null!==c&&void 0!==c?c:O,className:"button is-danger is-large","aria-disabled":t,children:Object(a.jsx)("span",{children:"Cancelar"})})]})]})}})},sn=n(52),on=function(e){var t,n,r,c,s,i,o,l,u=e.user,d=e.onOk,j=Object(T.a)(e,["user","onOk"]),b=nt.e({company:nt.f().required("Campo requerido"),username:nt.f().matches(/^[a-zA-Z]+$/,"Solo puede contener letras.").required("Campo requerido"),phone:nt.f().max(15,"Debe tener menos de 15 digitos.").required("Campo requerido"),address:nt.f(),email:nt.f().email("Email inv\xe1lido").required("Campo requerido")}),p=function(){var e=Object(et.a)(Xe.a.mark((function e(t){var n,a,r;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",n);case 2:return a=null===u||void 0===u?void 0:u.user.id,r=a?"?id=".concat(a,"&username=").concat(t):"?username=".concat(t),e.next=6,Kt.get("".concat(Xt.validate_username).concat(r));case 6:return e.sent.ok||(n="El Usuario ya existe. Elija otro por favor."),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(tt.c,{initialValues:{company:null!==(t=null===u||void 0===u?void 0:u.company)&&void 0!==t?t:"",username:null!==(n=null===u||void 0===u||null===(r=u.user)||void 0===r?void 0:r.username)&&void 0!==n?n:"",phone:null!==(c=null===u||void 0===u?void 0:u.phone)&&void 0!==c?c:"",address:null!==(s=null===u||void 0===u||null===(i=u.address)||void 0===i?void 0:i.address)&&void 0!==s?s:"",email:null!==(o=null===u||void 0===u||null===(l=u.user)||void 0===l?void 0:l.email)&&void 0!==o?o:""},validationSchema:b,onSubmit:function(e){var t,n={user:{id:null===u||void 0===u||null===(t=u.user)||void 0===t?void 0:t.id,username:e.username,email:e.email},address:e.address?{address:e.address}:null,company:e.company,phone:e.phone};d(Object(P.a)({},n))},children:function(e){var t=e.handleSubmit;return Object(a.jsx)(kt,Object(P.a)(Object(P.a)({},j),{},{title:(null===u||void 0===u?void 0:u.user)?"Editar Cliente":"Crear Cliente",okLabel:"Guardar",onOk:t,children:Object(a.jsxs)(tt.b,{children:[Object(a.jsx)(tt.a,{name:"company",label:"Compa\xf1\xeda",component:ct}),Object(a.jsx)(tt.a,{name:"username",label:"Usuario",validate:p,component:ct}),Object(a.jsx)(tt.a,{name:"email",label:"Correo Electr\xf3nico",component:ct}),Object(a.jsx)(tt.a,{name:"phone",label:"Tel\xe9fono",component:ct}),Object(a.jsx)(tt.a,{name:"address",label:"Direcci\xf3n",component:ct})]})}))}})},ln=function(e){var t,n,r,c,s,i,o,l,u,d=e.user,j=e.onOk,b=Object(T.a)(e,["user","onOk"]),p=nt.e({username:nt.f().matches(/^[a-zA-Z]+$/,"Solo puede contener letras.").required("Campo requerido"),first_name:nt.f(),last_name:nt.f(),phone:nt.f().required("Campo requerido"),address:nt.f(),email:nt.f().email("Email inv\xe1lido").required("Campo requerido")}),h=function(){var e=Object(et.a)(Xe.a.mark((function e(t){var n,a,r;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",n);case 2:return a=null===d||void 0===d?void 0:d.user.id,r=a?"?id=".concat(a,"&username=").concat(t):"?username=".concat(t),e.next=6,Kt.get("".concat(Xt.validate_username).concat(r));case 6:return e.sent.ok||(n="El Usuario ya existe. Elija otro por favor."),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(tt.c,{initialValues:{username:null!==(t=null===d||void 0===d||null===(n=d.user)||void 0===n?void 0:n.username)&&void 0!==t?t:"",first_name:null!==(r=null===d||void 0===d?void 0:d.user.first_name)&&void 0!==r?r:"",last_name:null!==(c=null===d||void 0===d?void 0:d.user.last_name)&&void 0!==c?c:"",phone:null!==(s=null===d||void 0===d?void 0:d.phone)&&void 0!==s?s:"",address:null!==(i=null===d||void 0===d||null===(o=d.address)||void 0===o?void 0:o.address)&&void 0!==i?i:"",email:null!==(l=null===d||void 0===d||null===(u=d.user)||void 0===u?void 0:u.email)&&void 0!==l?l:""},validationSchema:p,onSubmit:function(e){var t,n={user:{id:null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.id,username:e.username,first_name:e.first_name,last_name:e.last_name,email:e.email},address:e.address?{address:e.address}:null,phone:e.phone};j(Object(P.a)({},n))},children:function(e){var t=e.handleSubmit;return Object(a.jsx)(kt,Object(P.a)(Object(P.a)({},b),{},{title:(null===d||void 0===d?void 0:d.user)?"Editar Inspector":"Crear Inspector",okLabel:"Guardar",onOk:t,children:Object(a.jsxs)(tt.b,{children:[Object(a.jsx)(tt.a,{name:"first_name",label:"Nombre",component:ct}),Object(a.jsx)(tt.a,{name:"last_name",label:"Apellido",component:ct}),Object(a.jsx)(tt.a,{name:"username",label:"Usuario",validate:h,component:ct}),Object(a.jsx)(tt.a,{name:"email",label:"Correo Electr\xf3nico",component:ct}),Object(a.jsx)(tt.a,{name:"phone",label:"Tel\xe9fono",component:ct}),Object(a.jsx)(tt.a,{name:"address",label:"Direcci\xf3n",component:ct})]})}))}})},un=function(e){var t,n=e.product,r=e.onOk,c=Object(T.a)(e,["product","onOk"]),s=nt.e({name:nt.f().required("Campo requerido")});return Object(a.jsx)(tt.c,{initialValues:{name:null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:""},validationSchema:s,onSubmit:function(e){return r(Object(P.a)({},e))},children:function(e){var t=e.handleSubmit;return Object(a.jsx)(kt,Object(P.a)(Object(P.a)({},c),{},{title:n?"Editar Producto":"Crear Producto",okLabel:"Guardar",onOk:t,children:Object(a.jsx)(tt.b,{children:Object(a.jsx)(tt.a,{name:"name",label:"Nombre",component:ct})})}))}})},dn=function(e){var t=e.name,n=e.type,r=e.value,c=e.label,s=e.onOk,i=Object(T.a)(e,["name","type","value","label","onOk"]);return Object(a.jsx)(tt.c,{initialValues:Object(sn.a)({},t,r),onSubmit:function(){var e=Object(et.a)(Xe.a.mark((function e(n,a){var r,c;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.setSubmitting,(c=new FormData).append(t,n[t]),e.next=5,s(c);case 5:r(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var r=e.handleSubmit,s=e.setFieldValue;return Object(a.jsx)(kt,Object(P.a)(Object(P.a)({},i),{},{title:"Editar ".concat(c),okLabel:"Guardar",onOk:r,children:Object(a.jsx)(tt.b,{children:"file"===n?Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)(Object(P.a)({label:"Foto",onChange:function(e){return s(t,e)},accept:"image/*"},e),{},{children:Object(a.jsx)(ut,{})}))}}):Object(a.jsx)(tt.a,{type:n,name:t,label:c,component:st})})}))}})},jn=function(e){var t,n,r,c,s=e.row,i=e.order,o=Object(T.a)(e,["row","order"]),l=nt.e().shape({number:nt.d().required("Campo Requerido"),product:nt.f().required("Campo Requerido"),size:nt.f(),image:nt.c().required("Imagen Requerida"),quantity:nt.d().required("Campo requerido")}),u=Object(F.d)((function(e){return $e(e)}));return Object(a.jsx)(tt.c,{initialValues:{number:null!==(t=null===s||void 0===s?void 0:s.number)&&void 0!==t?t:u,product:null!==(n=String(null===s||void 0===s?void 0:s.product.id))&&void 0!==n?n:"",size:null!==(r=null===s||void 0===s?void 0:s.size)&&void 0!==r?r:"",image:null===s||void 0===s?void 0:s.image,quantity:null!==(c=null===s||void 0===s?void 0:s.quantity)&&void 0!==c?c:0},validationSchema:l,onSubmit:function(){var e=Object(et.a)(Xe.a.mark((function e(t,n){var a;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.setSubmitting,console.log(t),a(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.setFieldValue,n=e.handleSubmit;return Object(a.jsx)(kt,Object(P.a)(Object(P.a)({},o),{},{title:s?"Editar Fila":"Nueva Fila",okLabel:"Guardar",onOk:n,children:Object(a.jsxs)(tt.b,{children:[Object(a.jsx)(tt.a,{type:"number",name:"number",label:"Fila",component:ct}),Object(a.jsxs)(tt.a,{name:"product",label:"Producto",component:it,children:[Object(a.jsx)("option",{value:"",children:"-----"}),i.products.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(a.jsx)(tt.a,{type:"number",name:"quantity",label:"Cantidad",component:ct}),Object(a.jsx)(tt.a,{type:"text",name:"size",label:"Tama\xf1o",component:ct}),Object(a.jsx)(tt.a,{children:function(e){return Object(a.jsx)(dt,Object(P.a)(Object(P.a)({label:"Foto",onChange:function(e){return t("image",e)},accept:"image/*"},e),{},{children:Object(a.jsx)(ut,{})}))}})]})}))}})},bn=function(e){var t=e.className,n=void 0===t?"icon has-text-success":t;return Object(a.jsx)("span",{className:n,children:Object(a.jsx)(me.a,{icon:fe.f})})},pn=function(e){var t=e.className,n=void 0===t?"icon has-text-danger":t;return Object(a.jsx)("span",{className:n,children:Object(a.jsx)(me.a,{icon:fe.l})})},hn=function(e){var t=e.condition,n=e.value,r=e.labelOk,c=e.labelWrong,s=e.type,i=void 0===s?"text":s,o=e.name,l=e.onChange;return t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(bn,{}),Object(a.jsx)("span",{children:r})]}),"file"===i?Object(a.jsx)(rt,{className:"image is-64x64",src:n}):Object(a.jsx)("span",{children:n})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(pn,{}),Object(a.jsx)("span",{children:r}),l&&Object(a.jsx)(Nt,{button:Object(a.jsx)("span",{className:"is-size-7 is-block has-text-danger is-clickable",children:c}),modal:Object(a.jsx)(dn,{label:r,value:n,name:o,type:i,onOk:l})})]}),Object(a.jsx)("span",{children:n})]})},On=function(e){var t=e.condition,n=e.value,r=e.labelOk,c=e.labelWrong,s=e.goUrl;return t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(bn,{}),Object(a.jsx)("span",{children:r})]}),Object(a.jsx)("span",{children:n})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(pn,{}),Object(a.jsx)("span",{children:r}),Object(a.jsx)(j.b,{to:s,className:"is-block is-size-7 has-text-danger",children:c})]}),Object(a.jsx)("span",{children:n})]})},mn=function(e){var t=e.order,n=e.onOk,c=t.container,s=t.initial[0],i=s.id,o=s.empty,l=s.matricula,u=s.ventilation,d=Object(r.useState)(!1),j=Object(Oe.a)(d,2),b=j[0],p=j[1],h=Object(F.c)();Object(r.useEffect)((function(){var e=[c,o,l].every((function(e){return Boolean(e)}));e!==b&&(p(e),n(e))}),[c,o,l,n,b,p]);var O=function(e){h(function(e,t){return function(){var n=Object(et.a)(Xe.a.mark((function n(a){var r;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Kt.patch("".concat(Xt.inspector_container).concat(e,"/"),t);case 3:return r=n.sent,n.abrupt("return",a({type:Be,payload:r}));case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(i,e))};return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"title is-size-5 has-text-weight-bold",children:"Contenedor:"}),Object(a.jsxs)("ul",{className:"mx-2",children:[Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:Boolean(c),value:null!==c&&void 0!==c?c:"",labelOk:"Matr\xedcula:",labelWrong:"Matr\xedcula del contenedor requerida.",type:"text",name:"container",onChange:function(e){h(en(t.id,e))}})}),Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:Boolean(o),value:null!==o&&void 0!==o?o:"",labelOk:"Contenedor vac\xedo:",labelWrong:"Foto del contenedor requerida.",type:"file",name:"empty",onChange:O})}),Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:Boolean(l),value:null!==l&&void 0!==l?l:"",labelOk:"Foto Matr\xedcula:",labelWrong:"Foto de la matr\xedcula requerida.",type:"file",name:"matricula",onChange:O})}),Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:Boolean(u),value:null!==u&&void 0!==u?u:"",labelOk:"Foto Ventilaci\xf3n",labelWrong:"No hay Foto de la ventilaci\xf3n (optional).",type:"file",name:"ventilation",onChange:O})})]})]})},fn=function(e){var t=e.order,n=e.onOk,c=t.gross_weight,s=t.net_weight,i=t.final[0],o=i.id,l=i.full,u=i.semi_close,d=i.close,j=i.precinto,b=Object(r.useState)(!1),p=Object(Oe.a)(b,2),h=p[0],O=p[1],m=Object(F.c)();Object(r.useEffect)((function(){var e=[l,c,s].every((function(e){return Boolean(e)}));e!==h&&(O(e),n(e))}),[l,c,s,n,h,O]);var f=function(e){m(en(t.id,e))},x=function(e){m(function(e,t){return function(){var n=Object(et.a)(Xe.a.mark((function n(a){var r;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Kt.patch("".concat(Xt.inspector_close).concat(e,"/"),t);case 3:return r=n.sent,n.abrupt("return",a({type:Ge,payload:r}));case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(o,e))};return Object(a.jsxs)("div",{className:"my-4",children:[Object(a.jsx)("p",{className:"title is-size-5 has-text-weight-bold",children:"Cierre del Contenedor:"}),Object(a.jsxs)("ul",{className:"mx-2",children:[Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:Boolean(c),value:null!==c&&void 0!==c?c:0,labelOk:"Peso Bruto (kg):",labelWrong:"El Peso Bruto debe ser mayor a cero.",type:"number",name:"gross_weight",onChange:f})}),Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:Boolean(s),value:null!==s&&void 0!==s?s:0,labelOk:"Peso Neto (kg):",labelWrong:"El Peso Neto debe ser mayor a cero.",type:"number",name:"net_weight",onChange:f})}),Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:Boolean(l),value:null!==l&&void 0!==l?l:"",labelOk:"Contenedor LLeno:",labelWrong:"Foto del contenedor lleno requerida.",type:"file",name:"full",onChange:x})}),Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:Boolean(u),value:null!==u&&void 0!==u?u:"",labelOk:"Foto Semi Cerrado:",labelWrong:"No hay Foto Contenedor Semi Cerrado (optional).",type:"file",name:"semi_close",onChange:x})}),Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:Boolean(d),value:null!==d&&void 0!==d?d:"",labelOk:"Foto Cerrado:",labelWrong:"No hay Foto Contenedor Cerrado (optional).",type:"file",name:"close",onChange:x})}),Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:Boolean(j),value:null!==j&&void 0!==j?j:"",labelOk:"Foto Precinto AFIP:",labelWrong:"No hay Foto Precinto AFIP (optional).",type:"file",name:"precinto",onChange:x})})]})]})},xn=function(e){var t,n=e.order,c=e.onOk,s=e.rows,i=n.boxes,o=n.id,l=Object(r.useState)(!1),u=Object(Oe.a)(l,2),d=u[0],j=u[1],b=Object(F.c)();Object(r.useEffect)((function(){var e=Boolean(i);e!==d&&(j(e),c(e))}),[i,c,d,j]);var p=n.boxes===s.reduce((function(e,t){return e+t.quantity}),0),h=s.reduce((function(e,t){return e>t.number?e:t.number}),0),O=s.reduce((function(e,t){var n=String(t.product.id);return e.hasOwnProperty(n)?Object(P.a)(Object(P.a)({},e),{},Object(sn.a)({},n,e[n]+t.quantity)):Object(P.a)(Object(P.a)({},e),{},Object(sn.a)({},n,t.quantity))}),{});return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"title is-size-5 has-text-weight-bold",children:"Filas:"}),Object(a.jsxs)("ul",{className:"mx-2",children:[Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(On,{condition:h>0,value:h,labelOk:"N\xb0 Filas:",labelWrong:"El n\xfamero de filas tiene que ser mayor a cero.",goUrl:"".concat(R,"/").concat(o)})}),Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(hn,{condition:p,value:null!==(t=n.boxes)&&void 0!==t?t:0,labelOk:"N\xb0 Cajas Totales:",labelWrong:"El n\xfamero de cajas no coincide con el cargado en las filas.",type:"number",name:"boxes",onChange:function(e){b(en(n.id,e))}})}),n.products.map((function(e){return Object(a.jsx)("li",{className:"is-flex is-justify-content-space-between",children:Object(a.jsx)(On,{condition:O[e.id]>0,value:O[e.id],labelOk:"N\xb0 Cajas de ".concat(e.name,":"),labelWrong:"El n\xfamero de cajas de ".concat(e.name," es cero."),goUrl:"".concat(R,"/").concat(o)})},e.id)}))]})]})},vn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={check:!1,containerCheck:!1,rowsCheck:!1,closeCheck:!1},e.handleContainerChecks=function(t){e.setState({containerCheck:t})},e.handleCloseChecks=function(t){e.setState({closeCheck:t})},e.handleRowsChecks=function(t){e.setState({rowsCheck:t})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.state,t=e.containerCheck,n=e.rowsCheck,a=e.closeCheck,r=t&&n&&a;r!==this.state.check&&this.setState({check:r})}},{key:"componentDidMount",value:function(){var e=this.state,t=e.containerCheck,n=e.rowsCheck,a=e.closeCheck;this.setState({check:t&&n&&a})}},{key:"render",value:function(){var e=this.state.check,t=this.props,n=t.order,r=t.rows,c=t.backUrl,s=t.onOk;return Object(a.jsxs)("div",{children:[Object(a.jsx)(mn,{order:n,onOk:this.handleContainerChecks}),Object(a.jsx)(xn,{order:n,rows:r,onOk:this.handleRowsChecks}),Object(a.jsx)(fn,{order:n,onOk:this.handleCloseChecks}),Object(a.jsxs)("div",{className:"buttons is-justify-content-space-evenly",children:[Object(a.jsx)("button",{disabled:!e,onClick:s,className:"button is-success is-large",children:"Aceptar"}),Object(a.jsx)(j.b,{to:c,className:"button is-danger is-large",children:"Volver"})]})]})}}]),n}(r.Component);vn.defaultProps={rows:[]};var gn=Object(F.b)((function(e){return{rows:Ze(e)}}),null)(vn),yn=Object(b.h)((function(e){var t=e.order,n=e.match,r=Object(F.c)(),c=n.url;return["closing","finish"].includes(t.status)?Object(a.jsx)("div",{className:"m-2 is-flex is-flex-direction-column",children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:c+I,children:Object(a.jsx)(gn,{order:t,backUrl:O,onOk:function(){return e="ready",r(en(t.id,{status:e}));var e}})}),Object(a.jsx)(b.b,{path:c,children:Object(a.jsx)(cn,{order:t,backUrl:O,okUrl:c+I,onOk:function(e){return function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.inspector_close,e);case 3:return a=t.sent,t.abrupt("return",n({type:Ae,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e)(r)}})})]})}):Object(a.jsx)(b.a,{to:O})})),kn=function(e){var t=e.order,n=Object(F.c)(),c=Object(F.d)((function(e){return Ze(e)}));Object(r.useEffect)((function(){n(tn(t.id))}),[t,n]);var s=function(e){return n(function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.patch("".concat(Xt.inspector_rows).concat(e.id,"/"),e);case 3:return a=t.sent,t.abrupt("return",n({type:Le,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))},i=function(e){return function(){return n((t=e.id,function(){var e=Object(et.a)(Xe.a.mark((function e(n){return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.delete("".concat(Xt.inspector_rows).concat(t,"/"));case 3:return e.abrupt("return",n({type:Ve,payload:t}));case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));var t}},o=[{key:"number",title:"#",align:qe.right},{key:"product.name",title:"Producto",align:qe.center,width:300},{key:"quantity",title:"Cantidad",align:qe.center},{key:"actions",title:"Acciones",align:qe.center,width:150,render:function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Nt,{button:Object(a.jsx)("button",{className:"button is-info is-small mr-2 has-tooltip-arrow","data-tooltip":"Editar",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.h})})}),modal:Object(a.jsx)(jn,{row:e,order:t,onOk:s})}),Object(a.jsx)(wt,{title:"Est\xe1 seguro que desea eliminar la Fila ".concat(e.number,"?"),okLabel:"Eliminar",onClick:i(e),children:Object(a.jsx)("button",{className:"button is-danger is-small has-tooltip-arrow","data-tooltip":"Eliminar",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.m})})})})]})}}];return Object(a.jsxs)("div",{className:"m-2 is-flex is-flex-direction-column",children:[Object(a.jsx)(Nt,{button:Object(a.jsxs)("button",{className:"button is-info is-fullwidth",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.j})}),Object(a.jsx)("span",{className:"is-uppercase",children:"Agregar Fila"})]}),modal:Object(a.jsx)(jn,{order:t,onOk:function(e){return n(nn(e))}})}),Object(a.jsxs)(at,{path:"".concat(C,"/").concat(t.id,"/check"),className:"button is-danger is-fullwidth my-2",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.n})}),Object(a.jsx)("span",{className:"is-uppercase",children:"Volver"})]}),Object(a.jsx)(yt,{columns:o,data:c})]})},Nn=function(){var e=Object(F.c)(),t=Object(F.d)((function(e){return ne(e)})),n=Object(F.d)((function(e){return Je(e)}));Object(r.useEffect)((function(){var n;e((n=t.id,function(){var e=Object(et.a)(Xe.a.mark((function e(t){var a;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.get("".concat(Xt.inspector_orders,"?inspector=").concat(n));case 3:return a=e.sent,e.abrupt("return",t({type:Ie,payload:a}));case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,t]);var c=Object(r.useCallback)((function(){return e(St())}),[e]),s=function(t){return function(n){n.append("order",String(t)),e(function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.inspector_orders,e);case 3:return a=t.sent,t.abrupt("return",n({type:De,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(n))}},i=t.first_name,o=t.last_name;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"hero is-primary",children:Object(a.jsxs)("div",{className:"hero-body",children:[Object(a.jsxs)("p",{className:"title",children:["Hola ","".concat(i," ").concat(o)," !"]}),Object(a.jsx)("button",{type:"button",className:"button is-danger",onClick:c,children:Object(a.jsx)("strong",{children:"Salir"})})]})}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"columns",children:Object(a.jsx)("div",{className:"column is-full",children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{exact:!0,path:O,children:Object(a.jsx)(Qe,{})}),Object(a.jsx)(b.b,{path:"".concat(N,"/:orderId"),render:function(e){var t=e.match,r=n.find((function(e){var n=e.id;return t.params.orderId===String(n)}));return r?Object(a.jsx)(jt,{order:r,onOk:s(r.id)}):null}}),Object(a.jsx)(b.b,{path:"".concat(w,"/:orderId"),render:function(e){var t=e.match,r=n.find((function(e){var n=e.id;return t.params.orderId===String(n)}));return r?Object(a.jsx)(an,{order:r}):null}}),Object(a.jsx)(b.b,{path:"".concat(C,"/:orderId"),render:function(e){var t=e.match,r=n.find((function(e){var n=e.id;return t.params.orderId===String(n)}));return r?Object(a.jsx)(yn,{order:r}):null}}),Object(a.jsx)(b.b,{path:"".concat(R,"/:orderId"),render:function(e){var t=e.match,r=n.find((function(e){var n=e.id;return t.params.orderId===String(n)}));return r?Object(a.jsx)(kn,{order:r}):null}})]})})})})]})},wn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:"Hola Como va"})}}]),n}(c.a.Component),Cn=function(e){var t=e.button,n=e.modal,c=e.onCall,s=Object(r.useState)(!1),i=Object(Oe.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)(!1),d=Object(Oe.a)(u,2),j=d[0],b=d[1],p=Object(r.useCallback)(Object(et.a)(Xe.a.mark((function e(){var t,n=arguments;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof c){e.next=6;break}return e.next=3,c.apply(void 0,n);case 3:t=e.sent,b(t),l(!0);case 6:case"end":return e.stop()}}),e)}))),[c]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(t.type,Object(P.a)(Object(P.a)({},t.props),{},{onClick:p})),Object(a.jsx)(n.type,Object(P.a)(Object(P.a)({},n.props),{},{open:o,onOpenChange:l,ok:j}))]})},_n=function(e){var t=e.open,n=e.onOpenChange,c=e.ok,s=e.okMsg,i=e.wrongMsg,o=Object(r.useCallback)((function(){return n&&n(!1)}),[n]);return t?Object(a.jsxs)("div",{className:"modal is-active has-text-left",children:[Object(a.jsx)("div",{className:"modal-background",onClick:o}),Object(a.jsx)("div",{className:"modal-content",children:Object(a.jsxs)("div",{className:"notification ".concat(c?"is-success":"is-danger"),children:[Object(a.jsx)("button",{className:"delete",onClick:o}),Object(a.jsx)("strong",{children:c?s:i})]})})]}):null},En=function(e){var t=e.title,n=e.children;return Object(a.jsxs)("nav",{className:"columns is-vcentered is-mobile",children:[Object(a.jsx)("div",{className:"column is-half",children:Object(a.jsx)("h2",{className:"title",children:t})}),Object(a.jsx)("div",{className:"column is-half has-text-right",children:n})]})},Sn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).columns=[{key:"company",title:"Compa\xf1\xeda",width:200},{key:"user.username",title:"Usuario",width:200},{key:"user.email",title:"Correo Electr\xf3nico"},{key:"phone",title:"Tel\xe9fono"},{key:"address",title:"Direcci\xf3n",render:function(e){var t;return(null===(t=e.address)||void 0===t?void 0:t.address)||"-"}},{key:"actions",title:"Acciones",align:qe.center,width:150,render:function(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Nt,{button:Object(a.jsx)("button",{className:"button is-small is-info mr-1 has-tooltip-arrow","data-tooltip":"Editar",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.h})})}),modal:Object(a.jsx)(on,{user:t,onOk:e.handleEditClient(t)})}),Object(a.jsx)(wt,{title:"Est\xe1 seguro que desea eliminar a ".concat(t.company,"?"),okLabel:"Eliminar",onClick:e.handleDeleteClient(t),children:Object(a.jsx)("button",{className:"button is-small is-danger mr-1 has-tooltip-arrow","data-tooltip":"Eliminar",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.m})})})}),Object(a.jsx)(Cn,{onCall:e.handleSendCredentials(t),button:Object(a.jsx)("button",{className:"button is-small is-warning has-tooltip-arrow","data-tooltip":"Enviar Credenciales",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.i})})}),modal:Object(a.jsx)(_n,{okMsg:"Las credentiales fueron enviadas.",wrongMsg:"Upss! Algo sali\xf3. Intentalo de nuevo."})})]})}}],e.handleEditClient=function(t){return function(n){e.props.dispatch(Pt(t.user.id,n))}},e.handleSaveClient=function(t){e.props.dispatch(Rt(t))},e.handleDeleteClient=function(t){return function(){e.props.dispatch(Tt(t.user.id))}},e.handleSendCredentials=function(t){return function(){return e.props.dispatch(qt(t.user.id))}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(It())}},{key:"render",value:function(){var e=this.props.clients;return Object(a.jsxs)("div",{children:[Object(a.jsx)(En,{title:"Clientes",children:Object(a.jsx)(Nt,{button:Object(a.jsxs)("button",{className:"button is-info",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.j})}),Object(a.jsx)("span",{children:"Nuevo Cliente"})]}),modal:Object(a.jsx)(on,{onOk:this.handleSaveClient})})}),Object(a.jsx)(yt,{columns:this.columns,data:e})]})}}]),n}(c.a.Component);Sn.defaultProps={clients:[]};var qn=Object(F.b)((function(e){return{clients:ae(e)}}))(Sn),In=function(e){var t,n,r,c,s,i,o,l,u,d,j,b=e.order,p=e.clients,h=e.inspectors,O=e.products,m=e.onOk,f=e.onCancel,x=nt.e({client:nt.f().required("Campo requerido"),inspector:nt.f().required("Campo requerido"),products:nt.a().required("Campo Requerido"),date:nt.b().required("Campo requerido"),booking:nt.f().required("Campo requerido")});return Object(a.jsx)(tt.c,{initialValues:{client:String(null!==(t=null===b||void 0===b?void 0:b.client.user.id)&&void 0!==t?t:""),inspector:String(null!==(n=null===b||void 0===b?void 0:b.inspector.user.id)&&void 0!==n?n:""),products:null!==(r=null===b||void 0===b?void 0:b.products.map((function(e){return e.id})))&&void 0!==r?r:[],gross_weight:null!==(c=null===b||void 0===b?void 0:b.gross_weight)&&void 0!==c?c:0,date:(j=null===b||void 0===b?void 0:b.date,ve()(j).format("YYYY-MM-DD")),time_start:Ne(null===b||void 0===b?void 0:b.date,null===b||void 0===b?void 0:b.time_start),time_complete:Ne(null===b||void 0===b?void 0:b.date,null===b||void 0===b?void 0:b.time_complete),origin:null!==(s=null===b||void 0===b?void 0:b.origin)&&void 0!==s?s:"",discharge:null!==(i=null===b||void 0===b?void 0:b.discharge)&&void 0!==i?i:"",booking:null!==(o=null===b||void 0===b?void 0:b.booking)&&void 0!==o?o:"",vessel_name:null!==(l=null===b||void 0===b?void 0:b.vessel_name)&&void 0!==l?l:"",plant:null!==(u=null===b||void 0===b?void 0:b.plant)&&void 0!==u?u:"",status:null!==(d=null===b||void 0===b?void 0:b.status)&&void 0!==d?d:"pending"},validationSchema:x,onSubmit:function(){var e=Object(et.a)(Xe.a.mark((function e(t,n){var a,r,c;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setSubmitting,r=Object(P.a)(Object(P.a)({},t),{},{date:Ce(t.date),time_start:we(t.date,t.time_start),time_complete:we(t.date,t.time_complete)}),e.next=4,m(r);case 4:c=e.sent,a(!1),c&&f();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return Object(a.jsxs)(tt.b,{children:[Object(a.jsx)("h1",{className:"title is-1",children:b?"Editar Orden":"Crear Carga"}),Object(a.jsx)("div",{className:"field is-horizontal",children:Object(a.jsxs)("div",{className:"field-body",children:[Object(a.jsxs)(tt.a,{name:"client",label:"Cliente",component:it,children:[Object(a.jsx)("option",{value:"",children:"-----"}),null===p||void 0===p?void 0:p.map((function(e){return Object(a.jsx)("option",{value:e.user.id,children:e.company},e.user.id)}))]}),Object(a.jsxs)(tt.a,{name:"inspector",label:"Inspector",component:it,children:[Object(a.jsx)("option",{value:"",children:"-----"}),null===h||void 0===h?void 0:h.map((function(e){return Object(a.jsx)("option",{value:e.user.id,children:e.user.username},e.user.id)}))]})]})}),Object(a.jsx)("div",{className:"field is-horizontal",children:Object(a.jsxs)("div",{className:"field-body",children:[Object(a.jsx)(tt.a,{name:"products",label:"Productos",component:ot,children:null===O||void 0===O?void 0:O.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)(tt.a,{name:"gross_weight",label:"Peso Bruto",type:"text",component:ct})]})}),Object(a.jsx)("div",{className:"field is-horizontal",children:Object(a.jsxs)("div",{className:"field-body",children:[Object(a.jsx)(tt.a,{name:"date",label:"Fecha de Inicio",type:"date",component:ct}),Object(a.jsx)(tt.a,{name:"time_start",label:"Hora de Inicio",type:"time",component:ct}),Object(a.jsx)(tt.a,{name:"time_complete",label:"Hora de Finalizaci\xf3n",type:"time",component:ct})]})}),Object(a.jsx)("div",{className:"field is-horizontal",children:Object(a.jsxs)("div",{className:"field-body",children:[Object(a.jsx)(tt.a,{name:"origin",label:"Origen",component:ct}),Object(a.jsx)(tt.a,{name:"discharge",label:"Descarga",component:ct})]})}),Object(a.jsx)("div",{className:"field is-horizontal",children:Object(a.jsxs)("div",{className:"field-body",children:[Object(a.jsx)(tt.a,{name:"booking",label:"Booking",component:ct}),Object(a.jsx)(tt.a,{name:"vessel_name",label:"Vessel Name",component:ct}),Object(a.jsx)(tt.a,{name:"plant",label:"Planta",component:ct})]})}),Object(a.jsx)(tt.a,{name:"status",label:"Estado",component:it,children:Object.entries(_e).map((function(e){return Object(a.jsx)("option",{value:e[0],children:e[1]},e[0])}))}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("button",{className:"button is-danger",disabled:t,onClick:f,children:"Cancelar"}),Object(a.jsx)("button",{type:"submit",className:"button is-success",disabled:t,children:"Guardar"})]})]})}})},Rn=function(e){var t=e.current,n=void 0===t?1:t,r=e.previous,c=e.next,s=e.pages,i=e.changePage,o=Array.from({length:s},(function(e,t){return++t}));return Object(a.jsx)("nav",{className:"pagination is-rounded is-small mt-1",role:"navigation","aria-label":"pagination",children:Object(a.jsxs)("ul",{className:"pagination-list",children:[r?Object(a.jsx)("li",{onClick:function(){return i(r)},children:Object(a.jsx)("span",{className:"pagination-previous",children:Object(a.jsx)(me.a,{icon:fe.a})})}):null,n>3?Object(a.jsx)("li",{children:Object(a.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})}):null,o.map((function(e){return Math.abs(e-n)>3?null:Object(a.jsx)("li",{className:"is-clickable",onClick:function(){return i(e)},children:Object(a.jsx)("span",{className:e===n?"pagination-link is-current":"pagination-link","aria-label":"Goto page ".concat(e),children:e})},e)})),s-n>3?Object(a.jsx)("li",{children:Object(a.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})}):null,c?Object(a.jsx)("li",{className:"is-clickable",onClick:function(){return i(c)},children:Object(a.jsx)("span",{className:"pagination-previous",children:Object(a.jsx)(me.a,{icon:fe.b})})}):null]})})},Pn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).columns=[{key:"id",title:"#",align:qe.right,width:50},{key:"client",title:"Cliente",width:100,render:function(e){return e.client.company}},{key:"inspector",title:"Inspector",width:100,render:function(e){return"".concat(e.inspector.user.first_name," \n        ").concat(e.inspector.user.last_name)}},{key:"products",title:"Productos",align:qe.center,width:250,render:function(e){return Object(a.jsx)("ul",{children:e.products.map((function(e){return Object(a.jsx)("li",{className:"tag is-black is-flex my-1",children:e.name},e.id)}))})}},{key:"date",title:"Fecha",align:qe.center,width:100,render:function(e){return e.date?ke(e.date):"-"}},{key:"time",title:"Hora: Comienzo/Finalizado",align:qe.center,width:100,render:function(e){var t=Ne(e.date,e.time_start),n=Ne(e.date,e.time_complete);return"".concat(t," A ").concat(n)}},{key:"status",title:"Estado",align:qe.center,width:150,render:function(e){var t;return!!e.status&&(null!==(t=_e[e.status])&&void 0!==t?t:"")}},{key:"actions",title:"Acciones",align:qe.center,width:120,render:function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"button is-small is-info mr-1 has-tooltip-arrow","data-tooltip":"Editar",children:Object(a.jsx)(j.b,{to:"".concat(k,"/").concat(e.id),className:"icon is-info has-text-white",children:Object(a.jsx)(me.a,{icon:fe.h})})}),Object(a.jsx)(wt,{title:"Est\xe1 seguro que desea eliminar la Carga #".concat(e.id,"?"),okLabel:"Eliminar",onClick:r.handleDeleteOrder(e.id),children:Object(a.jsx)("button",{className:"button is-small is-danger mr-1 has-tooltip-arrow","data-tooltip":"Eliminar",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.m})})})})]})}}],r.handleSaveOrder=function(e){return r.props.dispatch(function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){var a;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.post(Xt.orders_data,e);case 3:return a=t.sent,t.abrupt("return",n({type:J,payload:a}));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))},r.handleUpdateOrder=function(e){return function(t){return r.props.dispatch(function(e,t){return function(){var n=Object(et.a)(Xe.a.mark((function n(a){var r;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Kt.patch("".concat(Xt.orders_data).concat(e,"/"),t);case 3:return r=n.sent,n.abrupt("return",a({type:Z,payload:r}));case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(e.id,t))}},r.handleDeleteOrder=function(e){return function(){r.props.dispatch(function(e){return function(){var t=Object(et.a)(Xe.a.mark((function t(n){return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt.delete("".concat(Xt.orders_data).concat(e,"/"));case 3:return t.abrupt("return",n({type:$,payload:e}));case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(e))}},r.handleChangePage=function(){var e=Object(et.a)(Xe.a.mark((function e(t){return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===r.props.current){e.next=5;break}return r.setState({loading:!0}),e.next=4,r.props.dispatch(Ht(t));case 4:r.setState({loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={loading:!1},r}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.clients,r=t.inspectors,c=t.products,s=this.props,i=s.orders,o=s.current,l=s.next,u=s.previous,d=s.pages;return this.state.loading?Object(a.jsx)("div",{className:"is-flex is-justify-content-center",children:Object(a.jsx)(lt,{className:"image is-128x128",alt:"Cargando ..."})}):Object(a.jsx)("div",{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:y,render:function(t){var s=t.history;return Object(a.jsx)(In,{clients:n,inspectors:r.filter((function(e){return e.user.is_active})),products:c,onOk:e.handleSaveOrder,onCancel:function(){return s.push(f)}})}}),Object(a.jsx)(b.b,{path:"".concat(k,"/:order"),render:function(t){var s=t.history,o=t.match,l=i.find((function(e){return String(e.id)===o.params.order}));return l?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(In,{order:l,clients:n,inspectors:r.filter((function(e){return e.user.is_active})),products:c,onOk:e.handleUpdateOrder(l),onCancel:function(){return s.push(f)}})}):null}}),Object(a.jsxs)(b.b,{path:f,children:[Object(a.jsx)(En,{title:"Cargas",children:Object(a.jsxs)(j.b,{to:y,className:"button is-info",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.j})}),Object(a.jsx)("span",{children:"Nueva Carga"})]})}),Object(a.jsx)(yt,{columns:this.columns,data:i}),Object(a.jsx)(Rn,Object(P.a)(Object(P.a)({},{current:o,next:l,previous:u,pages:d}),{},{changePage:this.handleChangePage}))]})]})})}}]),n}(c.a.Component),Tn=Object(F.b)((function(e){return{orders:se(e),clients:ae(e),inspectors:re(e),products:ce(e),pages:ie(e),current:oe(e),next:le(e),previous:ue(e)}}))(Pn),Fn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).columns=[{key:"activate",title:"",width:50,render:function(t){var n=t.user.is_active,r={user:{is_active:!n}};return Object(a.jsx)("span",{className:"icon is-clickable \n              has-tooltip-arrow\n              ".concat(n?"has-text-success":"has-text-danger"),"data-tooltip":n?"Activo":"Inactivo",onClick:function(){return e.handleEditInspector(t)(r)},children:Object(a.jsx)(me.a,{icon:n?fe.f:fe.l})})}},{key:"user.username",title:"Usuario"},{key:"full_name",title:"Nombre y Apellido",render:function(e){return Object(a.jsx)("p",{className:"is-capitalize",children:"".concat(e.user.first_name," ").concat(e.user.last_name)})}},{key:"user.email",title:"Correo Electr\xf3nico"},{key:"phone",title:"Tel\xe9fono"},{key:"address",title:"Direcci\xf3n",render:function(e){var t;return(null===(t=e.address)||void 0===t?void 0:t.address)||"-"}},{key:"actions",title:"Acciones",align:qe.center,width:150,render:function(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Nt,{button:Object(a.jsx)("button",{className:"button is-small is-info mr-1 has-tooltip-arrow","data-tooltip":"Editar",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.h})})}),modal:Object(a.jsx)(ln,{user:t,onOk:e.handleEditInspector(t)})}),Object(a.jsx)(wt,{title:"Est\xe1 seguro que desea eliminar a ".concat(t.user.username,"?"),okLabel:"Eliminar",onClick:e.handleDeleteInspector(t),children:Object(a.jsx)("button",{className:"button is-small is-danger mr-1 has-tooltip-arrow","data-tooltip":"Eliminar",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.m})})})}),Object(a.jsx)(Cn,{onCall:e.handleSendCredentials(t),button:Object(a.jsx)("button",{className:"button is-small is-warning has-tooltip-arrow","data-tooltip":"Enviar Credenciales",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.i})})}),modal:Object(a.jsx)(_n,{okMsg:"Las credentiales fueron enviadas.",wrongMsg:"Upss! Algo sali\xf3. Intentalo de nuevo."})})]})}}],e.handleEditInspector=function(t){return function(n){e.props.dispatch(At(t.user.id,n))}},e.handleSendCredentials=function(t){return function(){return e.props.dispatch(qt(t.user.id))}},e.handleSaveInspector=function(t){e.props.dispatch(Dt(t))},e.handleDeleteInspector=function(t){return function(){e.props.dispatch(Ut(t.user.id))}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(Ft())}},{key:"render",value:function(){var e=this.props.inspectors;return Object(a.jsxs)("div",{children:[Object(a.jsx)(En,{title:"Inspector",children:Object(a.jsx)(Nt,{button:Object(a.jsxs)("button",{className:"button is-info",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.j})}),Object(a.jsx)("span",{children:"Nuevo Inspector"})]}),modal:Object(a.jsx)(ln,{onOk:this.handleSaveInspector})})}),Object(a.jsx)(yt,{columns:this.columns,data:e})]})}}]),n}(c.a.Component);Fn.defaultProps={inspectors:[]};var Dn=Object(F.b)((function(e){return{inspectors:re(e)}}))(Fn),An=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).columns=[{key:"id",title:"#",align:qe.right,width:50},{key:"name",title:"Nombre",align:qe.center,width:200,render:function(e){return Object(a.jsx)("p",{className:"is-uppercase",children:e.name})}},{key:"actions",title:"Acciones",align:qe.center,width:120,render:function(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Nt,{button:Object(a.jsx)("button",{className:"button is-info mr-2 has-tooltip-arrow","data-tooltip":"Editar",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.h})})}),modal:Object(a.jsx)(un,{product:t,onOk:e.handleUpdateProduct(t)})}),Object(a.jsx)(wt,{title:"Est\xe1 seguro que desea eliminar el ".concat(t.name,"?"),okLabel:"Eliminar",onClick:e.handleDeleteProduct(t.id),children:Object(a.jsx)("button",{className:"button is-danger has-tooltip-arrow","data-tooltip":"Eliminar",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.m})})})})]})}}],e.handleSaveProduct=function(t){return e.props.dispatch(Lt(t))},e.handleUpdateProduct=function(t){return function(n){return e.props.dispatch(Vt(t.id,n))}},e.handleDeleteProduct=function(t){return function(){e.props.dispatch(zt(t))}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(Mt())}},{key:"render",value:function(){var e=this.props.products;return Object(a.jsxs)("div",{children:[Object(a.jsx)(En,{title:"Productos",children:Object(a.jsx)(Nt,{button:Object(a.jsxs)("button",{className:"button is-info",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(me.a,{icon:fe.j})}),Object(a.jsx)("span",{children:"Nuevo Producto"})]}),modal:Object(a.jsx)(un,{onOk:this.handleSaveProduct})})}),Object(a.jsx)(yt,{columns:this.columns,data:e})]})}}]),n}(c.a.Component);An.defaultProps={products:[]};var Un=Object(F.b)((function(e){return{products:ce(e)}}))(An),Mn=function(){var e=Object(F.c)(),t=Object(r.useCallback)((function(){return e(St())}),[e]);return Object(a.jsx)("nav",{className:"navbar is-spaced has-shadow mb-4",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"navbar-brand",children:Object(a.jsx)(j.b,{className:"navbar-item brand-text",to:m,children:"Inicio"})}),Object(a.jsxs)("div",{id:"navMenu",className:"navbar-menu",children:[Object(a.jsxs)("div",{className:"navbar-start",children:[Object(a.jsx)(j.b,{className:"navbar-item",to:f,children:"Cargas"}),Object(a.jsx)(j.b,{className:"navbar-item",to:g,children:"Productos"}),Object(a.jsx)(j.b,{className:"navbar-item",to:x,children:"Clientes"}),Object(a.jsx)(j.b,{className:"navbar-item",to:v,children:"Inspectores"}),Object(a.jsx)(j.b,{className:"navbar-item",to:"/dashboard/informes",children:"Informes"})]}),Object(a.jsx)("div",{className:"navbar-end",children:Object(a.jsx)("a",{className:"navbar-item",children:Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("button",{type:"button",className:"button is-danger",onClick:t,children:Object(a.jsx)("strong",{children:"Salir"})})})})})})]})]})})},Ln={IS_STAFF:m,IS_SUPERUSER:m,IS_INSPECTOR:O,IS_CLIENT:h},Vn=function(){var e=Object(F.c)(),t=Object(F.d)((function(e){return ne(e)})),n=Object(b.g)();return Object(r.useEffect)((function(){e(It()),e(Ft()),e(Mt()),e(Ht())}),[e]),Object(r.useEffect)((function(){(null===t||void 0===t?void 0:t.id)?n.push(Ln[t.user_type]):n.push(p)}),[t,n]),Object(a.jsxs)("div",{children:[Object(a.jsx)(Mn,{}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"columns",children:Object(a.jsx)("div",{className:"column",children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{exact:!0,path:m,children:Object(a.jsx)(wn,{})}),Object(a.jsx)(b.b,{path:f,children:Object(a.jsx)(Tn,{})}),Object(a.jsx)(b.b,{path:x,children:Object(a.jsx)(qn,{})}),Object(a.jsx)(b.b,{path:v,children:Object(a.jsx)(Dn,{})}),Object(a.jsx)(b.b,{path:g,children:Object(a.jsx)(Un,{})})]})})})})]})},zn=nt.e({username:nt.f().required("Campo requerido"),password:nt.f().required("Campo requerido")}),Hn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={errorMsg:""},e.handleSubmit=function(){var t=Object(et.a)(Xe.a.mark((function t(n){return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({errorMsg:""}),t.prev=1,t.next=4,e.props.dispatch(Et(n));case 4:e.props.history.push(m),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),e.setState({errorMsg:"Usuario o Contrase\xf1a Incorrecta"}),e.props.dispatch(St());case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("section",{className:"hero is-fullheight",children:Object(a.jsx)("div",{className:"hero-body",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"column is-4 is-offset-4",children:[Object(a.jsx)("h3",{className:"title has-text-black has-text-centered",children:"Ingreso"}),Object(a.jsx)("div",{className:"box",children:Object(a.jsx)(tt.c,{initialValues:{username:"",password:""},validationSchema:zn,onSubmit:this.handleSubmit,children:function(t){var n=t.isSubmitting;return Object(a.jsxs)(tt.b,{children:[Object(a.jsx)("p",{className:"help is-danger has-text-centered",children:e.state.errorMsg}),Object(a.jsx)(tt.a,{name:"username",label:"Usuario",component:ct}),Object(a.jsx)(tt.a,{type:"password",name:"password",label:"Contrase\xf1a",component:ct}),Object(a.jsx)("button",{id:"login-btn",className:"button is-block is-info is-fullwidth \n                        ".concat(n?"is-loading":""),children:"Ingresar"})]})}})}),Object(a.jsx)("p",{className:"has-text-grey has-text-centered",children:Object(a.jsx)(j.b,{to:"/forgot-password",children:"Olvide mi Contrase\xf1a"})})]})})})})}}]),n}(c.a.Component),Wn=Object(Wt.compose)(Object(F.b)(),b.h)(Hn),Bn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(j.a,{basename:"",children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{exact:!0,path:p,children:Object(a.jsx)(Wn,{})}),Object(a.jsx)(de,{path:m,redirect:p,children:Object(a.jsx)(Vn,{})}),Object(a.jsx)(de,{path:h,redirect:p,children:Object(a.jsx)(be,{})}),Object(a.jsx)(de,{path:O,redirect:p,children:Object(a.jsx)(Nn,{})})]})})}}]),n}(r.Component),Gn=document.getElementById("app");i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(F.a,{store:Zt,children:Object(a.jsx)(Bn,{})})}),Gn)}},[[189,1,2]]]);
//# sourceMappingURL=main.3ab424ef.chunk.js.map